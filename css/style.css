/* style.css
   Layout, components and animations.
   Background moved to html and min-height rules added to prevent white gaps on mobile
   when the document grows dynamically.
*/

/* Box model */
*, *::before, *::after { box-sizing: border-box; }

html, body { min-height: 100%; height: auto; }

/* Put page-level background on html so it always fills the viewport/document */
html {
  /* Base background (radial + radial + linear) — same visuals as before */
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(0,255,163,.08), transparent 60%),
    radial-gradient(900px 500px at 110% 10%, rgba(52,255,209,.08), transparent 60%),
    linear-gradient(180deg,var(--bg-1),var(--bg-0));
  background-repeat: no-repeat;
  /* keep it visually fixed to avoid seams while body scrolls */
  background-attachment: fixed;
  /* ensure the root background color matches theme's base */
  background-color: var(--bg-0);
}

/* Body keeps color and can grow without creating gaps; background is transparent now */
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background .3s ease, color .3s ease;
  /* fallback background color — body itself doesn't carry the gradient now */
  background-color: var(--bg-0);
}

/* Grid overlay (unchanged) */
.grid-bg::before{
  content: "";
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(rgba(0,255,163,.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,255,163,.06) 1px, transparent 1px);
  background-size: 32px 32px;
  pointer-events: none;
  z-index: 0;
}

/* Container */
.container {
  position: relative;
  z-index: 1;
  max-width: 1100px;
  margin: 0 auto;
  padding: 18px 16px 40px;
}

/* Header */
.header { padding: 18px 0 10px; }
.header-bar { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 8px; }

.theme-toggle{
  min-width: 44px;
  height: 40px;
  padding: 0 10px;
  border-radius: 10px;
  border: 1px solid rgba(0,255,163,.18);
  background: var(--bg-2);
  color: var(--text);
  cursor: pointer;
  font-size: 1.05rem;
  box-shadow: var(--shadow);
  transition: transform .12s ease, filter .15s ease, box-shadow .18s ease;
  transform-origin: center;
}

.header-spacer { width:44px; height:40px; visibility:hidden; }

.title { display:inline-flex; align-items:center; justify-content:center; gap:12px; text-align:center; }
.logo-mark{
  width:58px; height:58px; border-radius:16px;
  background: conic-gradient(from 220deg, var(--neon), var(--neon-2), var(--neon));
  transform: rotate(-10deg);
  box-shadow: 0 10px 30px rgba(0,255,163,.22), inset 0 0 18px rgba(255,255,255,.15);
  filter: drop-shadow(0 0 12px rgba(0,255,163,.25));
}
.brand{ display:inline-flex; align-items:center; gap:10px; font-size:clamp(24px,4.2vw,34px); font-weight:900; letter-spacing:.5px; }
.brand .name{ display:inline-flex; gap:6px; }
.brand .name .very{ color:var(--neon); filter: drop-shadow(0 0 12px rgba(0,255,163,.25)); }
.brand .name .cool{ color:var(--text); }
.brand .love{ font-size:.9em; color:var(--accent); text-shadow:0 0 6px rgba(122,235,255,.35); }

/* Panel & controls */
.panel {
  background: linear-gradient(180deg, var(--bg-2), var(--bg-3));
  border: 1px solid rgba(0,255,163,.12);
  border-radius: 16px;
  padding: 14px;
  box-shadow: var(--shadow);
}

.controls { display:flex; gap:14px; align-items:flex-end; flex-wrap:nowrap; min-width:0; }
.control { display:flex; flex-direction:column; gap:6px; flex:1 1 0; min-width:0; }

.control label { font-weight:800; font-size:.92rem; letter-spacing:.4px; color:var(--text-dim); white-space:nowrap; }

select, input[type="text"] {
  height:48px; padding:0 14px; border-radius:12px;
  border:1px solid rgba(0,255,163,.14);
  background: var(--bg-1);
  color: var(--text);
  font-size:1rem;
  outline:none;
  box-shadow: inset 0 -12px 18px rgba(0,0,0,.12);
  transition: box-shadow .15s ease, border .18s ease, background .18s ease, transform .12s ease;
  width:100%; min-width:0; max-width:100%; overflow:hidden; text-overflow:ellipsis;
}

select:focus, input[type="text"]:focus {
  border-color: var(--neon);
  box-shadow: 0 0 0 3px rgba(0,255,163,.18), inset 0 -12px 18px rgba(0,0,0,.12);
  transform: translateY(-1px);
}

input::placeholder { color: var(--muted); }

/* Small, subtle bounce keyframes left for optional use */
@keyframes glow-bounce{
  0%{ transform: translateY(0) scale(1); box-shadow: var(--shadow); }
  45%{ transform: translateY(-2px) scale(1.04); box-shadow: 0 10px 24px rgba(0,0,0,.22), 0 0 18px var(--glow-color); }
  100%{ transform: translateY(0) scale(1.03); box-shadow: var(--shadow); }
}

/* Generate primary */
.generate-row{ margin-top:12px; }
.generate-row .btn{
  width:100%; height:50px; border-radius:12px;
  background: var(--btn-grad); color:#00120e; border:none;
  font-weight:900; letter-spacing:.8px; cursor:pointer;
  box-shadow: 0 10px 24px rgba(0,255,163,.18);
  transition: transform .12s ease, box-shadow .18s ease, filter .15s ease;
  transform-origin:center;
}

/* Keep it highlighted while hovered — subtle, minimal scaling using variable */
.generate-row .btn:hover{
  transform: scale(var(--hover-scale));
  box-shadow: 0 12px 28px rgba(0,255,163,var(--hover-shadow-strength)), 0 0 16px var(--glow-color);
}

.generate-row .btn[disabled]{ opacity:.6; cursor:not-allowed; }

/* Notices and description */
.notice{ margin-top:10px; padding:10px 12px; border-left:4px solid var(--warn); background: rgba(255,204,102,.08); border-radius:8px; }
.notice.error{ border-left-color: var(--error); background: rgba(255,85,119,.08); }

.desc{ margin-top:12px; display:none; background:var(--bg-2); border-left:4px solid var(--neon); border-radius:10px; padding:12px 14px; }

/* Results */
.results{ margin-top:14px; background:var(--bg-2); border:1px solid rgba(0,255,163,.12); border-radius:16px; padding:10px; box-shadow:var(--shadow); }
.results-header{ display:flex; align-items:center; justify-content:flex-end; padding:2px 4px 10px; color:var(--text-dim); font-weight:700; min-width:0; }
.scroll{ max-height:60vh; min-height:220px; overflow:auto; padding-right:4px; }

/* Cards */
.card{ background:var(--bg-3); border:1px solid rgba(0,255,163,.12); border-radius:12px; padding:12px; margin-bottom:10px; box-shadow:0 6px 18px rgba(0,0,0,.22); }
.card.latest{ border-color:var(--neon); box-shadow:0 0 0 2px rgba(0,255,163,.2), 0 12px 30px rgba(0,0,0,.28); animation: pop .5s ease; }

@keyframes pop{ 0%{ transform: translateY(-4px); } 100%{ transform: translateY(0); } }

/* Meta tags (timestamp, offer id, sim) */
.meta{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; color:var(--text-dim); font-size:.92rem; margin-bottom:8px; min-width:0; }
.tag{
  display:inline-flex; align-items:center; gap:6px; padding:4px 8px;
  border-radius:999px;
  background: rgba(0,255,163,.08);
  border: 1px solid rgba(0,255,163,.18);
  color: var(--text);
  font-weight:700;
  max-width:100%;
  line-height:1.2;
  flex:0 0 auto;
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease;
  transform-origin:center;
}

/* Tag highlight while hovered */
.tag:hover{
  transform: scale(1.02);
  border-color: rgba(0,255,163,.28);
  box-shadow: 0 10px 24px rgba(0,0,0,.20), 0 0 14px var(--glow-color);
}

.tag .dot{ width:8px; height:8px; border-radius:999px; background:var(--neon); filter: drop-shadow(0 0 12px rgba(0,255,163,.25)); flex:0 0 auto; }

/* OfferID marquee */
.tag.long{
  flex:0 1 auto; max-width:var(--offerid-max); min-width:0;
  position:relative; overflow:hidden; white-space:nowrap; align-items:center;
}
.tag.long .mview{ display:block; width:100%; overflow:hidden; white-space:nowrap; min-height:0; max-height:none; }
.tag.long .track{ display:inline-block; white-space:nowrap; will-change:transform; }
.tag.long .copy{ display:inline-block; padding-right:32px; }
.tag.long.marquee .track{ animation: tag-marquee var(--tag-duration, 12s) linear infinite; }
.tag.long.marquee:hover .track{ animation-play-state: paused; }
@keyframes tag-marquee{ 0%{ transform: translateX(0); } 100%{ transform: translateX(calc(-1 * var(--tag-distance, 0px))); } }
.tag.long.marquee::before,
.tag.long.marquee::after{ content:""; position:absolute; top:0; bottom:0; width:14px; pointer-events:none; }
.tag.long.marquee::before{ left:0; background:linear-gradient(90deg,var(--bg-3),transparent); }
.tag.long.marquee::after{ right:0; background:linear-gradient(270deg,var(--bg-3),transparent); }

/* Buttons small / theme toggle / trash: subtle highlight */
.btn-small, .trash-btn, .theme-toggle{
  transition: transform .12s ease, box-shadow .18s ease, filter .15s ease, border-color .18s ease;
  border:1px solid rgba(0,255,163,.18);
  background: var(--bg-1);
  color: var(--text);
  transform-origin:center;
}
.btn-small:hover, .trash-btn:hover, .theme-toggle:hover{
  transform: scale(1.02);
  box-shadow: 0 10px 24px rgba(0,0,0,.18), 0 0 12px var(--glow-color);
  filter: saturate(1.03);
}
.btn-small.primary{ background: var(--btn-grad); border:none; color:#02201a; }

/* Trash button specifics */
.trash-btn{ display:inline-flex; align-items:center; justify-content:center; min-width:44px; height:40px; padding:0 12px; gap:8px; border-radius:12px; box-shadow:var(--shadow); }
.trash-btn .num{ display:inline-flex; align-items:center; justify-content:center; min-width:22px; height:22px; padding:0 6px; border-radius:999px; background: rgba(0,255,163,.12); border:1px solid rgba(0,255,163,.28); color:var(--text); font-size:.9rem; line-height:1; }
.trash-btn[disabled]{ opacity:.5; cursor:not-allowed; }
.trash-btn .num.bump{ animation: badge-pop .38s ease; }
@keyframes badge-pop{ 0%{ transform:scale(1); } 30%{ transform:scale(1.18); } 100%{ transform:scale(1); } }

/* Links list */
.links-list{ display:grid; gap:8px; margin:6px 0 8px; }

/* Links remain highlighted while hovered — minimal scale + glow */
.links-list a{
  color: var(--link);
  text-decoration: none;
  word-break: break-all;
  font-weight: 800;
  filter: drop-shadow(0 0 12px rgba(0,255,163,.25));
  display:inline-block;
  transition: transform .12s ease, box-shadow .18s ease, text-decoration .12s ease, color .12s ease;
  transform-origin:center;
}
.links-list a:hover{
  transform: scale(1.02);
  text-decoration: underline;
  box-shadow: 0 8px 20px rgba(0,0,0,.16), 0 0 10px var(--glow-color);
}

/* Actions and misc */
.actions{ display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; }
.btn-small{ height:38px; padding:0 12px; border-radius:10px; cursor:pointer; }

/* Pre blocks */
pre{ background:var(--bg-1); border:1px solid rgba(0,255,163,.12); border-radius:10px; padding:10px; overflow:auto; max-height:260px; margin:6px 0 0; }

/* Responsive */
@media (max-width:980px){ .controls{ flex-wrap:wrap } .control{ flex:1 1 calc(50% - 7px) } }
@media (max-width:560px){
  .control{ flex:1 1 100% }
  .logo-mark{ width:50px; height:50px }
  .theme-toggle, .header-spacer{ height:38px; min-width:40px }
}

/* Respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce){
  .generate-row .btn:hover,
  .btn-small:hover, .trash-btn:hover, .theme-toggle:hover,
  .tag:hover,
  .links-list a:hover{
    animation: none !important;
    transform: none !important;
    box-shadow: none !important;
    filter: none !important;
  }
}